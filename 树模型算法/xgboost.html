<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XGBoost - å·¥ç¨‹ä¼˜åŒ–ç‹è€…</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            }
        };
    </script>
</head>
<body>
    <div class="detail-page">
        <a href="index.html" class="back-button">â† è¿”å›ä¸»é¡µ</a>

        <div class="algorithm-header">
            <h1>ğŸš€ XGBoost</h1>
            <span class="tag">å·¥ç¨‹ä¼˜åŒ–</span>
        </div>

        <div class="content-section">
            <h2>ğŸ“š ä»€ä¹ˆæ˜¯XGBoostï¼Ÿ</h2>
            <p>XGBoostï¼ˆeXtreme Gradient Boostingï¼‰æ˜¯2014å¹´æå‡ºçš„GBDTå¢å¼ºç‰ˆã€‚å®ƒåœ¨å·¥ç¨‹å®ç°ä¸Šåšäº†å¤§é‡ä¼˜åŒ–ï¼Œæˆä¸ºKaggleç«èµ›çš„ç‹è€…ã€‚</p>
            
            <div class="image-container">
                <img src="images/xgboost.png" alt="XGBoostç¤ºæ„å›¾">
            </div>
        </div>

        <div class="content-section">
            <h2>ğŸ”‘ æ ¸å¿ƒä¼˜åŒ–</h2>
            <ul style="line-height: 2; color: #555; list-style: none; padding-left: 0;">
                <li><strong>äºŒé˜¶æ³°å‹’å±•å¼€ï¼š</strong>æ›´ç²¾ç¡®çš„æŸå¤±å‡½æ•°è¿‘ä¼¼ï¼Œæå‡ç²¾åº¦</li>
                <li><strong>æ­£åˆ™åŒ–ï¼š</strong>æ§åˆ¶æ ‘å¤æ‚åº¦ï¼ˆå¶å­èŠ‚ç‚¹æ•°ï¼‰å’Œå¶å­æƒé‡ï¼Œé˜²æ­¢è¿‡æ‹Ÿåˆ</li>
                <li><strong>åˆ—é‡‡æ ·ï¼š</strong>éšæœºé€‰æ‹©ç‰¹å¾ï¼Œç±»ä¼¼éšæœºæ£®æ—ï¼Œå¢å¼ºæ³›åŒ–</li>
                <li><strong>ç¨€ç–æ„ŸçŸ¥ï¼š</strong>å¤„ç†ç¼ºå¤±å€¼æ›´æ™ºèƒ½</li>
                <li><strong>å¹¶è¡ŒåŒ–ï¼š</strong>æ”¯æŒå¹¶è¡Œè®¡ç®—ï¼Œé€Ÿåº¦å¿«</li>
            </ul>
        </div>

        <div class="tip-box">
            <strong>ğŸ’¡ é€šä¿—ç†è§£ï¼š</strong>GBDTçš„"åŠ å¼ºç‰ˆ"ï¼Œä¸ä»…å­¦ä¹ æ®‹å·®ï¼Œè¿˜è€ƒè™‘äº†å¾ˆå¤šå·¥ç¨‹ç»†èŠ‚ï¼šå¦‚ä½•é˜²æ­¢è¿‡æ‹Ÿåˆã€å¦‚ä½•åŠ é€Ÿè®¡ç®—ã€å¦‚ä½•å¤„ç†ç¼ºå¤±å€¼ç­‰ã€‚å°±åƒæŠŠä¸€è¾†æ™®é€šè½¦å‡çº§æˆäº†F1èµ›è½¦ã€‚
        </div>

        <div class="content-section">
            <h2>âš™ï¸ æ ¸å¿ƒæœºåˆ¶è¯¦è§£</h2>
            
            <h3 style="color: #e67e22; margin-top: 15px; margin-bottom: 10px; font-size: 1.1em;">1. äºŒé˜¶æ³°å‹’å±•å¼€ - æ›´è‡ªç„¶çš„æ¢¯åº¦ä¸‹é™</h3>
            <p>GBDTåªç”¨ä¸€é˜¶æ¢¯åº¦ï¼ŒXGBoostä½¿ç”¨äºŒé˜¶æ³°å‹’å±•å¼€ï¼Œè®©æ¢¯åº¦ä¸‹é™æ›´å‡†ç¡®ï¼š</p>
            <div class="formula-box">
                <div style="margin: 8px 0;">
                    <strong>GBDTï¼ˆä¸€é˜¶ï¼‰ï¼š</strong> $L(y, \hat{y}) \approx L(y, \hat{y}^{(t-1)}) + g_i \cdot f_t(x_i)$
                </div>
                <div style="margin: 8px 0;">
                    <strong>XGBoostï¼ˆäºŒé˜¶ï¼‰ï¼š</strong> $L(y, \hat{y}) \approx L(y, \hat{y}^{(t-1)}) + g_i \cdot f_t(x_i) + \frac{1}{2} h_i \cdot f_t(x_i)^2$
                </div>
                <div style="margin-top: 10px; font-size: 0.9em; color: #666;">
                    å…¶ä¸­ $g_i = \frac{\partial L}{\partial \hat{y}^{(t-1)}}$ (ä¸€é˜¶å¯¼æ•°)ï¼Œ$h_i = \frac{\partial^2 L}{\partial (\hat{y}^{(t-1)})^2}$ (äºŒé˜¶å¯¼æ•°)
                </div>
            </div>
            
            <div class="interactive-demo" style="margin-top: 15px;">
                <p style="margin-bottom: 10px;"><strong>äºŒé˜¶å¯¼æ•°ä¼˜åŠ¿æ¼”ç¤ºï¼š</strong></p>
                <button class="demo-button" onclick="showSecondOrderDemo()">æŸ¥çœ‹äºŒé˜¶å¯¼æ•°ä¼˜åŠ¿</button>
                <div id="second-order-output" style="margin-top: 12px; padding: 12px; background: white; border-radius: 6px; display: none;"></div>
            </div>

            <h3 style="color: #e67e22; margin-top: 20px; margin-bottom: 10px; font-size: 1.1em;">2. æ­£åˆ™åŒ– - æ§åˆ¶æ ‘å¤æ‚åº¦</h3>
            <p>XGBoostçš„ç›®æ ‡å‡½æ•°åŒ…å«æ­£åˆ™åŒ–é¡¹ï¼Œé˜²æ­¢è¿‡æ‹Ÿåˆï¼š</p>
            <div class="formula-box">
                $$Obj = \sum_{i=1}^{n} L(y_i, \hat{y}_i) + \sum_{k=1}^{K} \Omega(f_k)$$
                <div style="margin-top: 10px; font-size: 0.9em; color: #666;">
                    å…¶ä¸­ $\Omega(f_k) = \gamma T + \frac{1}{2}\lambda \sum_{j=1}^{T} w_j^2$<br>
                    $T$ = å¶å­èŠ‚ç‚¹æ•°ï¼Œ$w_j$ = å¶å­æƒé‡ï¼Œ$\gamma$ å’Œ $\lambda$ æ˜¯æ­£åˆ™åŒ–å‚æ•°
                </div>
            </div>

            <div class="interactive-demo" style="margin-top: 15px;">
                <div style="margin-bottom: 12px;">
                    <label style="display: block; margin-bottom: 5px;">
                        <strong>æ­£åˆ™åŒ–å‚æ•°ï¼š</strong>
                    </label>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px;">
                                $\gamma$ (æ§åˆ¶å¶å­èŠ‚ç‚¹æ•°): <span id="gamma-value">0.1</span>
                            </label>
                            <input type="range" id="gamma-slider" min="0" max="2" step="0.1" value="0.1" 
                                   style="width: 100%;" oninput="updateRegularization()">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px;">
                                $\lambda$ (æ§åˆ¶å¶å­æƒé‡): <span id="lambda-value">1.0</span>
                            </label>
                            <input type="range" id="lambda-slider" min="0" max="5" step="0.1" value="1.0" 
                                   style="width: 100%;" oninput="updateRegularization()">
                        </div>
                    </div>
                </div>
                <div id="reg-output" style="margin-top: 12px; padding: 12px; background: white; border-radius: 6px;">
                    <p style="margin-bottom: 8px;"><strong>å½“å‰æ­£åˆ™åŒ–æ•ˆæœï¼š</strong></p>
                    <div id="reg-details"></div>
                </div>
            </div>
        </div>

        <div class="content-section">
            <h2>ğŸ“Š æ€§èƒ½å¯¹æ¯”</h2>
            <table class="comparison-table">
                <tr>
                    <th>ç‰¹æ€§</th>
                    <th>GBDT</th>
                    <th>XGBoost</th>
                </tr>
                <tr>
                    <td>æŸå¤±å‡½æ•°</td>
                    <td>ä¸€é˜¶æ¢¯åº¦</td>
                    <td>äºŒé˜¶æ³°å‹’å±•å¼€</td>
                </tr>
                <tr>
                    <td>æ­£åˆ™åŒ–</td>
                    <td>æ— </td>
                    <td>æ ‘å¤æ‚åº¦+å¶å­æƒé‡</td>
                </tr>
                <tr>
                    <td>å¹¶è¡ŒåŒ–</td>
                    <td>æœ‰é™</td>
                    <td>æ”¯æŒ</td>
                </tr>
                <tr>
                    <td>é€Ÿåº¦</td>
                    <td>ä¸­ç­‰</td>
                    <td>å¿«</td>
                </tr>
            </table>
        </div>
    </div>

    <script>
        function showSecondOrderDemo() {
            const output = document.getElementById('second-order-output');
            output.style.display = 'block';
            output.innerHTML = 
                '<h4 style="color: #27ae60; margin-bottom: 10px;">äºŒé˜¶å¯¼æ•°çš„ä¼˜åŠ¿ï¼š</h4>' +
                '<div style="line-height: 1.8;">' +
                    '<p><strong>1. æ›´å‡†ç¡®çš„æ­¥é•¿ï¼š</strong>äºŒé˜¶å¯¼æ•° \\(h_i\\) å‘Šè¯‰æˆ‘ä»¬æŸå¤±å‡½æ•°çš„"æ›²ç‡"ï¼Œå¯ä»¥æ›´ç²¾ç¡®åœ°å†³å®šæ¯ä¸€æ­¥èµ°å¤šè¿œã€‚</p>' +
                    '<p><strong>2. è‡ªé€‚åº”å­¦ä¹ ï¼š</strong>åœ¨å¹³å¦åŒºåŸŸï¼ˆ\\(h_i\\) å°ï¼‰ï¼Œæ­¥é•¿å¤§ï¼›åœ¨é™¡å³­åŒºåŸŸï¼ˆ\\(h_i\\) å¤§ï¼‰ï¼Œæ­¥é•¿å°ã€‚è¿™æ ·æ¢¯åº¦ä¸‹é™æ›´è‡ªç„¶ã€æ›´ç¨³å®šã€‚</p>' +
                    '<p><strong>3. æ”¶æ•›æ›´å¿«ï¼š</strong>ç›¸æ¯”åªç”¨ä¸€é˜¶æ¢¯åº¦ï¼ŒäºŒé˜¶ä¿¡æ¯èƒ½æ›´å¿«æ‰¾åˆ°æœ€ä¼˜è§£ã€‚</p>' +
                '</div>' +
                '<div style="margin-top: 12px; padding: 10px; background: #ecf0f1; border-radius: 4px; font-size: 0.9em;">' +
                    '<strong>ç±»æ¯”ï¼š</strong>å°±åƒä¸‹å±±æ—¶ï¼Œä¸ä»…çŸ¥é“æ–¹å‘ï¼ˆä¸€é˜¶æ¢¯åº¦ï¼‰ï¼Œè¿˜çŸ¥é“å¡åº¦ç¼“æ€¥ï¼ˆäºŒé˜¶å¯¼æ•°ï¼‰ï¼Œè¿™æ ·å°±èƒ½é€‰æ‹©æ›´åˆé€‚çš„æ­¥é•¿ï¼Œé¿å…èµ°è¿‡å¤´æˆ–èµ°å¤ªæ…¢ã€‚' +
                '</div>';
            
            function renderMathJax() {
                if (window.MathJax && MathJax.typesetPromise) {
                    MathJax.typesetPromise([output]).catch(function(err) {
                        console.log('MathJaxæ¸²æŸ“é”™è¯¯:', err);
                    });
                } else if (window.MathJax && MathJax.startup) {
                    MathJax.startup.promise.then(function() {
                        if (MathJax.typesetPromise) {
                            MathJax.typesetPromise([output]).catch(function(err) {
                                console.log('MathJaxæ¸²æŸ“é”™è¯¯:', err);
                            });
                        }
                    });
                } else {
                    setTimeout(renderMathJax, 200);
                }
            }
            setTimeout(renderMathJax, 50);
        }

        function updateRegularization() {
            const gamma = parseFloat(document.getElementById('gamma-slider').value);
            const lambda = parseFloat(document.getElementById('lambda-slider').value);
            document.getElementById('gamma-value').textContent = gamma.toFixed(1);
            document.getElementById('lambda-value').textContent = lambda.toFixed(1);
            
            const details = document.getElementById('reg-details');
            let html = '';
            
            // åˆ†ægammaçš„å½±å“
            if (gamma < 0.5) {
                html += '<p style="color: #e74c3c; margin: 5px 0;">âš ï¸ Î³è¾ƒå°ï¼šå¯¹å¶å­èŠ‚ç‚¹æ•°æƒ©ç½šå¼±ï¼Œæ ‘å¯èƒ½å¾ˆæ·±å¾ˆå¤æ‚</p>';
            } else if (gamma < 1.5) {
                html += '<p style="color: #27ae60; margin: 5px 0;">âœ… Î³é€‚ä¸­ï¼šæœ‰æ•ˆæ§åˆ¶æ ‘çš„æ·±åº¦å’Œå¤æ‚åº¦</p>';
            } else {
                html += '<p style="color: #f39c12; margin: 5px 0;">âš ï¸ Î³è¿‡å¤§ï¼šè¿‡åº¦é™åˆ¶å¶å­èŠ‚ç‚¹ï¼Œæ ‘å¯èƒ½å¤ªç®€å•</p>';
            }
            
            // åˆ†ælambdaçš„å½±å“
            if (lambda < 0.5) {
                html += '<p style="color: #e74c3c; margin: 5px 0;">âš ï¸ Î»è¾ƒå°ï¼šå¯¹å¶å­æƒé‡æƒ©ç½šå¼±ï¼Œæƒé‡å¯èƒ½è¿‡å¤§</p>';
            } else if (lambda < 3) {
                html += '<p style="color: #27ae60; margin: 5px 0;">âœ… Î»é€‚ä¸­ï¼šæœ‰æ•ˆæ§åˆ¶å¶å­æƒé‡ï¼Œé˜²æ­¢è¿‡æ‹Ÿåˆ</p>';
            } else {
                html += '<p style="color: #f39c12; margin: 5px 0;">âš ï¸ Î»è¿‡å¤§ï¼šè¿‡åº¦å‹ç¼©æƒé‡ï¼Œå¯èƒ½æ¬ æ‹Ÿåˆ</p>';
            }
            
            // ç»¼åˆæ•ˆæœ
            const totalReg = gamma + lambda;
            html += '<div style="margin-top: 10px; padding: 8px; background: #f8f9fa; border-radius: 4px;">';
            html += '<strong>ç»¼åˆæ•ˆæœï¼š</strong>';
            if (totalReg < 1) {
                html += '<span style="color: #e74c3c;"> æ­£åˆ™åŒ–è¾ƒå¼±ï¼Œå®¹æ˜“è¿‡æ‹Ÿåˆ</span>';
            } else if (totalReg < 3) {
                html += '<span style="color: #27ae60;"> æ­£åˆ™åŒ–é€‚ä¸­ï¼Œå¹³è¡¡è‰¯å¥½</span>';
            } else {
                html += '<span style="color: #f39c12;"> æ­£åˆ™åŒ–è¾ƒå¼ºï¼Œå¯èƒ½æ¬ æ‹Ÿåˆ</span>';
            }
            html += '</div>';
            
            details.innerHTML = html;
        }
        
        // åˆå§‹åŒ–
        updateRegularization();
    </script>
</body>
</html>

